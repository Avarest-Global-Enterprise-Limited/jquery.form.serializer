// Generated by CoffeeScript 1.7.1
(function() {
  (function($) {
    var Serializer, regexp;
    regexp = {
      simple: /^[a-zA-Z][a-zA-Z0-9-_:\.]*$/,
      array: /^([a-zA-Z][a-zA-Z0-9-_:\.]*)\[\]$/,
      named: /^([a-zA-Z][a-zA-Z0-9-_:\.]*)\[(.+)\]$/
    };
    Serializer = (function() {
      function Serializer($this) {
        this.$this = $this;
      }

      Serializer.prototype.serializeField = function(name, value) {
        var matches, response;
        response = {};
        if (regexp.simple.test(name)) {
          response[name] = value;
        } else if (matches = name.match(regexp.array)) {
          response[matches[1]] = [value];
        } else if (matches = name.match(regexp.named)) {
          response[matches[1]] = {};
          response[matches[1]][matches[2]] = value;
        }
        return response;
      };

      Serializer.prototype.serialize = function() {};

      return Serializer;

    })();
    $.fn.getSerializedForm = function() {
      return new $.fn.getSerializedForm.Serializer(this.first()).serialize();
    };
    $.fn.getSerializedForm.regexp = regexp;
    return $.fn.getSerializedForm.Serializer = Serializer;
  })(jQuery);

}).call(this);
