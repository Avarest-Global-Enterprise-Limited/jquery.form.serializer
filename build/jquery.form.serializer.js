// Generated by CoffeeScript 1.7.1
(function() {
  (function($) {
    var Serializer, regexp, selectors;
    regexp = {
      simple: /^[a-z][\w-:\.]*$/i,
      array: /^([a-z][\w-:\.]*)\[(.*\])$/i
    };
    selectors = {
      submittable: 'input, select, textarea',
      submittableFilter: '[name]:not(:disabled)'
    };
    Serializer = (function() {
      function Serializer($this) {
        this.$this = $this;
      }

      Serializer.prototype.serializeField = function(name, value) {
        var matches, response;
        response = {};
        if (regexp.simple.test(name)) {
          response[name] = value;
        } else if (matches = name.match(regexp.array)) {
          name = matches[2].replace("]", "");
          response[matches[1]] = name === "" ? [value] : this.serializeField(name, value);
        }
        return response;
      };

      Serializer.prototype.getSubmittableFieldValues = function() {
        var fields;
        fields = [];
        this.$this.find(selectors.submittable).filter(selectors.submittableFilter).each(function() {
          var name;
          name = $(this).attr('name');
          return fields.push([name, $(this).val()]);
        });
        return fields;
      };

      Serializer.prototype.serialize = function() {};

      return Serializer;

    })();
    $.fn.getSerializedForm = function() {
      return new $.fn.getSerializedForm.Serializer(this.first()).serialize();
    };
    $.fn.getSerializedForm.regexp = regexp;
    $.fn.getSerializedForm.selectors = selectors;
    return $.fn.getSerializedForm.Serializer = Serializer;
  })(jQuery);

}).call(this);
